<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_26) on Sun Aug 28 16:02:20 CEST 2011 -->
<TITLE>
ch.systemsx.cisd.hdf5.hdf5lib
</TITLE>

<META NAME="date" CONTENT="2011-08-28">

</HEAD>

<BODY BGCOLOR="white">
<h3>
Introduction
</h3>
This package is the low-level Java interface for the CISD HDF5 library. It is derived from the
the low-level Java interface of the HDF Group's HDF-Java library.
<p> 
<i>It should be considered an internal interface and is likely to change in future versions.</i>
 <p>
 This code is called by Java programs to access the entry points of the HDF5 library. Each
 routine wraps a single HDF5 entry point, generally with the arguments and return codes analogous
 to the C interface.
 <p>
 For details of the HDF5 library, see the HDF5 Documentation at: <a
 href="http://hdf.ncsa.uiuc.edu/HDF5/">http://hdf.ncsa.uiuc.edu/HDF5/</a>
 <hr>
 <p>
 <b>Mapping of arguments for Java</b>
 <p>
 In general, arguments to the HDF Java API are straightforward translations from the 'C' API
 described in the HDF Reference Manual.
 <p>
 <center>
 <table border=2 cellpadding=2>
 <caption><b>HDF-5 C types to Java types</b> </caption>
 <tr>
 <td><b>HDF-5</b></td>
 <td><b>Java</b></td>
 </tr>
 <tr>
 <td>H5T_NATIVE_INT</td>
 <td>int, Integer</td>
 </tr>
 <tr>
 <td>H5T_NATIVE_SHORT</td>
 <td>short, Short</td>
 </tr>
 <tr>
 <td>H5T_NATIVE_FLOAT</td>
 <td>float, Float</td>
 </tr>
 <tr>
 <td>H5T_NATIVE_DOUBLE</td>
 <td>double, Double</td>
 </tr>
 <tr>
 <td>H5T_NATIVE_CHAR</td>
 <td>byte, Byte</td>
 </tr>
 <tr>
 <td>H5T_C_S1</td>
 <td>java.lang.String</td>
 </tr>
 <tr>
 <td>void * <BR>
 (i.e., pointer to `Any')</td>
 <td>Special -- see HDFArray</td>
 </tr>
 </table>
 </center>
 <p>
 <center> <b>General Rules for Passing Arguments and Results</b> </center>
 <p>
 In general, arguments passed <b>IN</b> to Java are the analogous basic types, as above. The
 exception is for arrays, which are discussed below.
 <p>
 The <i>return value</i> of Java methods is also the analogous type, as above. A major exception
 to that rule is that all HDF functions that return SUCCEED/FAIL are declared <i>boolean</i> in
 the Java version, rather than <i>int</i> as in the C. Functions that return a value or else FAIL
 are declared the equivalent to the C function. However, in most cases the Java method will raise
 an exception instead of returning an error code. See <a href="#ERRORS">Errors and Exceptions</a>
 below.
 <p>
 Java does not support pass by reference of arguments, so arguments that are returned through
 <b>OUT</b> parameters must be wrapped in an object or array. The Java API for HDF consistently
 wraps arguments in arrays.
 <p>
 For instance, a function that returns two integers is declared:
 <p>
 
 <pre>
       h_err_t HDF5dummy( int *a1, int *a2)
 </pre>
 
 For the Java interface, this would be declared:
 <p>
 
 <pre>
 public static native int HDF5dummy(int args[]);
 </pre>
 
 where <i>a1</i> is <i>args[0]</i> and <i>a2</i> is <i>args[1]</i>, and would be invoked:
 <p>
 
 <pre>
 H5.HDF5dummy(a);
 </pre>
 <p>
 All the routines where this convention is used will have specific documentation of the details,
 given below.
 <p>
 <a NAME="CONSTANTS"> <b>HDF-5 Constants</b>
 <p>
 The HDF-5 API defines a set of constants and enumerated values. Most of these values are
 available to Java programs via the class <code>HDF55Constants</code>. For example, the parameters 
 for the h5open() call include two numeric values, <code>HDF5Constants.H5F_ACC_RDWR</code> and 
 <code>HDF5Constants.H5P_DEFAULT</code>. As would be expected, these numbers correspond to the 
 C constants <code>H5F_ACC_RDWR</code> and <code>H5P_DEFAULT</code>.
 <p>
 The HDF-5 API defines a set of values that describe number types and sizes, such as
 "H5T_NATIVE_INT" and "hsize_t". These values are determined at run time by the HDF-5 C library.
 To support these parameters, the Java class <code>HDF55Constants</code> looks up the values when 
 initiated. The values can be accessed as public variables of the Java class, such as:
 
 <pre>
 int data_type = HDF55Constants.JH5T_NATIVE_INT;
 </pre>
 
 The Java application uses both types of constants the same way, the only difference is that the
 <code>HDF55Constants</code> may have different values on different platforms.
 <p>
 <a NAME="ERRORS"> <b>Error handling and Exceptions</b>
 <p>
 The HDF5 error API (H5E) manages the behavior of the error stack in the HDF-5 library. This API
 is omitted from the JHI5. Errors are converted into Java exceptions. This is totally different
 from the C interface, but is very natural for Java programming.
 <p>
 The exceptions of the JHI5 are organized as sub-classes of the class <code>HDF5Exception</code>. 
 There are two subclasses of <code>HDF5Exception</code>, <code>HDF5LibraryException</code>
 and <code>HDF5JavaException</code>. The sub-classes of the former represent errors from the HDF-5 
 C library, while sub-classes of the latter represent errors in the JHI5 wrapper and support code.
 <p>
 The super-class <code>HDF5LibraryException</code> implements the method
 '<code>printStackTrace()</code>', which prints out the HDF-5 error stack, as described in the
 HDF-5 C API <i><b>H5Eprint()</b>.</i> This may be used by Java exception handlers to print out
 the HDF-5 error stack.
 <hr>

</BODY>
</HTML>
